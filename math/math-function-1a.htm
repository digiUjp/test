<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€æ¬¡æ–¹ç¨‹å¼ã‚½ãƒ«ãƒãƒ¼ - æ•°å­¦å­¦ç¿’ãƒ„ãƒ¼ãƒ«</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            animation: fadeInDown 0.6s ease-out;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            animation: fadeIn 0.8s ease-out;
        }

        .panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .control-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .equation-inputs {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .equation-inputs:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .equation-inputs.line1 {
            border-left: 4px solid #667eea;
        }

        .equation-inputs.line2 {
            border-left: 4px solid #f093fb;
        }

        .equation-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #667eea;
        }

        .line2 .equation-title {
            color: #f093fb;
        }

        .input-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        label {
            font-weight: 500;
            color: #555;
            min-width: 20px;
        }

        input[type="number"] {
            width: 80px;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .equation-display {
            background: white;
            padding: 12px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            color: #667eea;
            text-align: center;
            margin-top: 10px;
            border: 2px dashed #667eea;
        }

        .line2 .equation-display {
            color: #f093fb;
            border-color: #f093fb;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .solution-box {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 20px;
            margin-top: 10px;
        }

        .solution-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #d84315;
            margin-bottom: 10px;
        }

        .solution-content {
            font-size: 1.1rem;
            color: #333;
            line-height: 1.6;
        }

        .canvas-panel {
            position: relative;
        }

        canvas {
            width: 100%;
            height: 600px;
            border-radius: 15px;
            background: white;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .explanation {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .explanation h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .explanation-content {
            color: #555;
            line-height: 1.8;
            font-size: 1rem;
        }

        .explanation-content p {
            margin-bottom: 12px;
        }

        .highlight {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .formula {
            font-family: 'Courier New', monospace;
            background: #f5f5f5;
            padding: 8px 12px;
            border-radius: 5px;
            display: inline-block;
            margin: 5px 0;
            font-weight: 600;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .legend-color {
            width: 30px;
            height: 3px;
            border-radius: 2px;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>ğŸ“ ä¸€æ¬¡æ–¹ç¨‹å¼ã‚½ãƒ«ãƒãƒ¼</h1>
            <p class="subtitle">é€£ç«‹ä¸€æ¬¡æ–¹ç¨‹å¼ã®å¯è¦–åŒ–ã¨è§£æ³•</p>
        </header>

        <div class="main-content">
            <div class="control-panel">
                <div class="equation-inputs line1">
                    <div class="equation-title">ğŸ”µ æ–¹ç¨‹å¼ 1</div>
                    <div class="input-row">
                        <div class="input-group">
                            <input type="number" id="a1" value="2" step="0.1">
                            <label>Ã— x +</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="b1" value="1" step="0.1">
                            <label>Ã— y =</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="c1" value="10" step="0.1">
                        </div>
                    </div>
                    <div class="equation-display" id="eq1-display">2x + 1y = 10</div>
                </div>

                <div class="equation-inputs line2">
                    <div class="equation-title">ğŸ”´ æ–¹ç¨‹å¼ 2</div>
                    <div class="input-row">
                        <div class="input-group">
                            <input type="number" id="a2" value="1" step="0.1">
                            <label>Ã— x +</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="b2" value="-1" step="0.1">
                            <label>Ã— y =</label>
                        </div>
                        <div class="input-group">
                            <input type="number" id="c2" value="2" step="0.1">
                        </div>
                    </div>
                    <div class="equation-display" id="eq2-display">1x + -1y = 2</div>
                </div>

                <button onclick="drawGraph()">ğŸ¨ ã‚°ãƒ©ãƒ•ã‚’æç”»ã—ã¦è§£ã</button>

                <div class="solution-box" id="solution-box" style="display: none;">
                    <div class="solution-title">âœ¨ è§£ï¼ˆäº¤ç‚¹ï¼‰</div>
                    <div class="solution-content" id="solution-content"></div>
                </div>
            </div>

            <div class="canvas-panel">
                <canvas id="graphCanvas"></canvas>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #667eea;"></div>
                        <span>ç›´ç·š 1</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f093fb;"></div>
                        <span>ç›´ç·š 2</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="explanation">
            <h2>ğŸ“š ä¸€æ¬¡æ–¹ç¨‹å¼ã«ã¤ã„ã¦</h2>
            <div class="explanation-content">
                <p><strong>ä¸€æ¬¡æ–¹ç¨‹å¼ã¨ã¯ï¼Ÿ</strong></p>
                <p>äºŒå¤‰æ•°ï¼ˆxã¨yï¼‰ã®ä¸€æ¬¡æ–¹ç¨‹å¼ã¯æ¬¡ã®å½¢ã‚’ã—ã¦ã„ã¾ã™ï¼š<span class="formula">ax + by = c</span></p>
                <p>ã“ã“ã§ã€<strong>a</strong>ã€<strong>b</strong>ã€<strong>c</strong>ã¯å®šæ•°ã§ã™ã€‚åº§æ¨™å¹³é¢ä¸Šã«ã‚°ãƒ©ãƒ•ã‚’æãã¨ã€ã“ã®æ–¹ç¨‹å¼ã¯ç›´ç·šã«ãªã‚Šã¾ã™ã€‚</p>

                <div class="highlight">
                    <p><strong>ğŸ¯ é‡è¦ãªæ¦‚å¿µï¼š</strong></p>
                    <p>â€¢ <strong>å‚¾ãï¼š</strong> ç›´ç·šã®å‚¾ãã¯æ¯” -a/b ã§æ±ºã¾ã‚Šã¾ã™</p>
                    <p>â€¢ <strong>åˆ‡ç‰‡ï¼š</strong> ç›´ç·šãŒxè»¸ã¨yè»¸ã¨äº¤ã‚ã‚‹ç‚¹</p>
                    <p>â€¢ <strong>è§£ï¼š</strong> ç›´ç·šä¸Šã®ä»»æ„ã®ç‚¹ (x, y) ã¯ã“ã®æ–¹ç¨‹å¼ã‚’æº€ãŸã—ã¾ã™</p>
                </div>

                <p><strong>é€£ç«‹ä¸€æ¬¡æ–¹ç¨‹å¼</strong></p>
                <p>2ã¤ã®ä¸€æ¬¡æ–¹ç¨‹å¼ãŒã‚ã‚‹å ´åˆã€ä¸¡æ–¹ã®æ–¹ç¨‹å¼ã‚’åŒæ™‚ã«æº€ãŸã™ç‚¹ (x, y) ã‚’æ¢ã—ã¾ã™ã€‚ã“ã®ç‚¹ãŒ2ã¤ã®ç›´ç·šã®äº¤ç‚¹ã§ã™ï¼</p>

                <div class="highlight">
                    <p><strong>ğŸ” 3ã¤ã®å¯èƒ½ãªçµæœï¼š</strong></p>
                    <p>â€¢ <strong>1ã¤ã®è§£ï¼š</strong> ç›´ç·šãŒ1ç‚¹ã§äº¤ã‚ã‚‹ï¼ˆæœ€ã‚‚ä¸€èˆ¬çš„ï¼‰</p>
                    <p>â€¢ <strong>è§£ãªã—ï¼š</strong> ç›´ç·šãŒå¹³è¡Œã§äº¤ã‚ã‚‰ãªã„</p>
                    <p>â€¢ <strong>ç„¡é™ã®è§£ï¼š</strong> ç›´ç·šãŒä¸€è‡´ã™ã‚‹ï¼ˆåŒã˜æ–¹ç¨‹å¼ï¼‰</p>
                </div>

                <p><strong>äº¤ç‚¹ã®æ±‚ã‚æ–¹</strong></p>
                <p>2ã¤ã®æ–¹ç¨‹å¼ãŒä¸ãˆã‚‰ã‚ŒãŸã¨ãï¼š</p>
                <p class="formula">aâ‚x + bâ‚y = câ‚</p>
                <p class="formula">aâ‚‚x + bâ‚‚y = câ‚‚</p>
                <p>æ¶ˆå»æ³•ã‚„ä»£å…¥æ³•ã‚’ä½¿ã£ã¦è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚ã‚°ãƒ©ãƒ•ã¯ã“ã®è§£ã‚’è¦–è¦šçš„ã«ç¤ºã—ã¦ã„ã¾ã™ï¼</p>

                <p><strong>ğŸ’¡ è©¦ã—ã¦ã¿ã‚ˆã†ï¼š</strong> ä¿‚æ•°ã‚’å¤‰æ›´ã—ã¦ã€ç›´ç·šãŒã©ã®ã‚ˆã†ã«å‹•ãã‹ã‚’è¦³å¯Ÿã—ã¦ãã ã•ã„ã€‚äº¤ç‚¹ãŒå¤‰åŒ–ã™ã‚‹ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„ - ãã‚ŒãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ›´æ–°ã•ã‚Œã‚‹è§£ã§ã™ï¼</p>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('graphCanvas');
        const ctx = canvas.getContext('2d');

        // Set canvas size
        canvas.width = canvas.offsetWidth;
        canvas.height = 600;

        // Update equation displays when inputs change
        const inputs = ['a1', 'b1', 'c1', 'a2', 'b2', 'c2'];
        inputs.forEach(id => {
            document.getElementById(id).addEventListener('input', updateEquationDisplays);
        });

        function updateEquationDisplays() {
            const a1 = document.getElementById('a1').value;
            const b1 = document.getElementById('b1').value;
            const c1 = document.getElementById('c1').value;
            const a2 = document.getElementById('a2').value;
            const b2 = document.getElementById('b2').value;
            const c2 = document.getElementById('c2').value;

            document.getElementById('eq1-display').textContent = `${a1}x + ${b1}y = ${c1}`;
            document.getElementById('eq2-display').textContent = `${a2}x + ${b2}y = ${c2}`;
        }

        function drawGraph() {
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Get input values
            const a1 = parseFloat(document.getElementById('a1').value);
            const b1 = parseFloat(document.getElementById('b1').value);
            const c1 = parseFloat(document.getElementById('c1').value);
            const a2 = parseFloat(document.getElementById('a2').value);
            const b2 = parseFloat(document.getElementById('b2').value);
            const c2 = parseFloat(document.getElementById('c2').value);

            // Set up coordinate system
            const scale = 20; // pixels per unit
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;

            // Draw grid (transparent)
            drawGrid(centerX, centerY, scale);

            // Draw axes (transparent)
            drawAxes(centerX, centerY);

            // Draw lines - ONLY LINES ARE VISIBLE
            drawLine(a1, b1, c1, '#667eea', 3, centerX, centerY, scale);
            drawLine(a2, b2, c2, '#f093fb', 3, centerX, centerY, scale);

            // Calculate intersection point
            const intersection = findIntersection(a1, b1, c1, a2, b2, c2);
            if (intersection) {
                displaySolution(intersection.x, intersection.y);
            } else {
                displayNoSolution();
            }
        }

        function drawGrid(centerX, centerY, scale) {
            // Make grid transparent (invisible)
            ctx.strokeStyle = 'rgba(0, 0, 0, 0)';
            ctx.lineWidth = 1;

            // Vertical lines
            for (let x = 0; x < canvas.width; x += scale) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }

            // Horizontal lines
            for (let y = 0; y < canvas.height; y += scale) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
        }

        function drawAxes(centerX, centerY) {
            // Make axes transparent (invisible)
            ctx.strokeStyle = 'rgba(0, 0, 0, 0)';
            ctx.lineWidth = 2;

            // X-axis
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(canvas.width, centerY);
            ctx.stroke();

            // Y-axis
            ctx.beginPath();
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, canvas.height);
            ctx.stroke();

            // Make labels transparent (invisible)
            ctx.fillStyle = 'rgba(0, 0, 0, 0)';
            ctx.font = '14px Noto Sans JP';
            ctx.textAlign = 'center';
            ctx.fillText('x', canvas.width - 20, centerY - 10);
            ctx.fillText('y', centerX + 15, 20);

            // Make tick marks and numbers transparent (invisible)
            const scale = 20;
            ctx.font = '12px Noto Sans JP';

            // X-axis ticks
            for (let i = -Math.floor(centerX / scale); i <= Math.floor((canvas.width - centerX) / scale); i++) {
                if (i === 0) continue;
                const x = centerX + i * scale;
                ctx.beginPath();
                ctx.moveTo(x, centerY - 5);
                ctx.lineTo(x, centerY + 5);
                ctx.stroke();
                ctx.fillText(i.toString(), x, centerY + 20);
            }

            // Y-axis ticks
            for (let i = -Math.floor(centerY / scale); i <= Math.floor((canvas.height - centerY) / scale); i++) {
                if (i === 0) continue;
                const y = centerY - i * scale;
                ctx.beginPath();
                ctx.moveTo(centerX - 5, y);
                ctx.lineTo(centerX + 5, y);
                ctx.stroke();
                ctx.fillText(i.toString(), centerX - 20, y + 5);
            }
        }

        function drawLine(a, b, c, color, lineWidth, centerX, centerY, scale) {
            if (b === 0 && a === 0) return; // Invalid equation

            ctx.strokeStyle = color;
            ctx.lineWidth = lineWidth;
            ctx.beginPath();

            if (b !== 0) {
                // y = (c - ax) / b
                const xMin = -centerX / scale;
                const xMax = (canvas.width - centerX) / scale;
                const yMin = (c - a * xMin) / b;
                const yMax = (c - a * xMax) / b;

                const x1 = centerX + xMin * scale;
                const y1 = centerY - yMin * scale;
                const x2 = centerX + xMax * scale;
                const y2 = centerY - yMax * scale;

                ctx.moveTo(x1, y1);
                ctx.lineTo(x2, y2);
            } else {
                // Vertical line: x = c/a
                const x = c / a;
                const canvasX = centerX + x * scale;
                ctx.moveTo(canvasX, 0);
                ctx.lineTo(canvasX, canvas.height);
            }

            ctx.stroke();
        }

        function findIntersection(a1, b1, c1, a2, b2, c2) {
            // Using Cramer's rule
            const determinant = a1 * b2 - a2 * b1;

            if (Math.abs(determinant) < 0.0001) {
                // Lines are parallel or coincident
                return null;
            }

            const x = (c1 * b2 - c2 * b1) / determinant;
            const y = (a1 * c2 - a2 * c1) / determinant;

            return { x, y };
        }

        function displaySolution(x, y) {
            const solutionBox = document.getElementById('solution-box');
            const solutionContent = document.getElementById('solution-content');

            solutionBox.style.display = 'block';
            solutionContent.innerHTML = `
                <p><strong>x = ${x.toFixed(4)}</strong></p>
                <p><strong>y = ${y.toFixed(4)}</strong></p>
                <p style="margin-top: 10px; font-size: 0.9rem;">
                    ã“ã®ç‚¹ (${x.toFixed(2)}, ${y.toFixed(2)}) ãŒ2ã¤ã®ç›´ç·šã®äº¤ç‚¹ã§ã™ã€‚
                    ã“ã‚ŒãŒä¸¡æ–¹ã®æ–¹ç¨‹å¼ã‚’æº€ãŸã™å”¯ä¸€ã®è§£ã§ã™ï¼
                </p>
            `;
        }

        function displayNoSolution() {
            const solutionBox = document.getElementById('solution-box');
            const solutionContent = document.getElementById('solution-content');

            solutionBox.style.display = 'block';
            solutionContent.innerHTML = `
                <p><strong>è§£ãªã—</strong></p>
                <p style="margin-top: 10px; font-size: 0.9rem;">
                    ç›´ç·šã¯å¹³è¡Œã§äº¤ã‚ã‚Šã¾ã›ã‚“ã€‚ã¤ã¾ã‚Šã€ä¸¡æ–¹ã®æ–¹ç¨‹å¼ã‚’æº€ãŸã™ç‚¹ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
                </p>
            `;
        }

        // Draw initial graph
        updateEquationDisplays();
        drawGraph();
    </script>
</body>

</html>
